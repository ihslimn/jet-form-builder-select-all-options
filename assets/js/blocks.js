(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,l,n){var r;return r=function(t,l){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(l),(l="symbol"==e(r)?r:String(r))in t?Object.defineProperty(t,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[l]=n,t}var l="jfb_select_all_options_enabled",n="jfb_select_all_options_select_label",r="jfb_select_all_options_deselect_label",o="jfb_select_all_options_add_as_buttons",i="jfb_select_all_options_default_all_selected",a="jfb_select_all_options_force_default_all_selected",c=t(t({},"jet-forms/checkbox-field","all"),"jet-forms/select-field","multiple");function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function b(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}function f(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?b(Object(l),!0).forEach((function(t){p(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):b(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function p(e,t,l){var n;return n=function(e,t){if("object"!=u(e)||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==u(n)?n:String(n))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function s(e,t,l){var n;return n=function(e,t){if("object"!=m(e)||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==m(n)?n:String(n))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var y=wp.hooks.addFilter,d=wp.compose.createHigherOrderComponent,w=wp.blockEditor.InspectorControls,v=wp.components,S=v.TextControl,_=v.ToggleControl,g=v.Panel,j=v.PanelRow,h=v.PanelBody,E=d((function(e){return function(t){var u=t.name,b=c[u]||!1;if(!b)return wp.element.createElement(e,t);var f=t.attributes,p=t.setAttributes,m=t.isSelected;return"all"===b||f[b]?(void 0===f[n]&&p(f[n]),wp.element.createElement(React.Fragment,null,wp.element.createElement(e,t),m&&wp.element.createElement(w,null,wp.element.createElement(g,null,wp.element.createElement(h,{title:"Select All",initialOpen:!1},wp.element.createElement(j,null,wp.element.createElement(_,{label:"Select all by default",help:f[i]?"All options will be selected by default":"",checked:f[i],onChange:function(){p(s({},i,!f[i]))}})),f[i]&&wp.element.createElement(j,null,wp.element.createElement(_,{label:"Force default value",help:"Enable this to ensure default value will be set after Field Updater update",checked:f[a],onChange:function(){p(s({},a,!f[a]))}})),wp.element.createElement(j,null,wp.element.createElement(_,{label:"Enable 'Select All'",help:f[l]?"Enabled.":"Disabled.",checked:f[l],onChange:function(){p(s({},l,!f[l]))}})),f[l]&&wp.element.createElement(j,null,wp.element.createElement(_,{label:"Add as buttons",help:f[o]?'"Select All" and "Deselect All" buttons will be added':'The first option will be a "Select All" option',checked:f[o],onChange:function(){p(s({},o,!f[o]))}})),f[l]&&wp.element.createElement(j,null,wp.element.createElement(S,{label:"Select All label",help:"",value:f[n],onChange:function(e){p(s({},n,e))}})),f[l]&&f[o]&&wp.element.createElement(j,null,wp.element.createElement(S,{label:"Deselect All label",help:"",value:f[r],onChange:function(e){p(s({},r,e))}}))))))):wp.element.createElement(e,t)}}),"addControls");y("editor.BlockEdit","jfb-select-all-options/editor-controls",E),(0,wp.hooks.addFilter)("blocks.registerBlockType","jfb-select-all/block-attributes",(function(e,t){return c[t]?(e.attributes=f(f({},e.attributes),{},p(p(p(p(p(p({},i,{type:"boolean",default:!1}),a,{type:"boolean",default:!1}),l,{type:"boolean",default:!1}),o,{type:"boolean",default:!1}),n,{type:"string",default:"Select All"}),r,{type:"string",default:"Deselect All"})),e):e}))})();